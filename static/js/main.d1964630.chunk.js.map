{"version":3,"sources":["constants.js","shapes/SlideDirectionShape.js","shapes/PhotoShape.js","shapes/PhotosShape.js","defaultPhrases.js","common/galleryPropTypes.js","utils/getPhrasePropTypes.js","utils/noop.js","common/galleryDefaultProps.js","common/imageDefaultProps.js","common/imagePropTypes.js","components/LoadingSpinner/LoadingSpinner.js","components/LoadingSpinner/index.js","components/Image/Image.js","components/Image/index.js","components/Photo/Photo.js","components/Photo/index.js","components/Thumbnail/Thumbnail.js","components/Thumbnail/index.js","components/TogglePhotoList/TogglePhotoList.js","components/TogglePhotoList/index.js","utils/calculateThumbnailsContainerDimension.js","components/Caption/Caption.js","utils/calculateThumbnailsLeftScroll.js","components/Caption/index.js","components/Control/Control.js","components/Control/index.js","components/PrevButton/PrevButton.js","components/PrevButton/index.js","components/NextButton/NextButton.js","components/NextButton/index.js","components/Gallery/Gallery.js","components/Gallery/index.js","components/CloseButton/CloseButton.js","components/CloseButton/index.js","utils/getPhotos.js","ReactBnbGallery.js","index.js"],"names":["defaultPhotoProps","photo","undefined","number","caption","subcaption","thumbnail","PropTypes","oneOf","shape","string","isRequired","oneOfType","arrayOf","PhotoShape","noPhotosProvided","showPhotoList","hidePhotoList","forbidExtraProps","activePhotoIndex","nonNegativeInteger","activePhotoPressed","func","direction","SlideDirectionShape","nextButtonPressed","prevButtonPressed","showThumbnails","bool","photos","PhotosShape","preloadSize","wrap","phrases","defaultPhrases","Object","keys","reduce","key","node","getPhrasePropTypes","light","backgroundColor","noop","onLoad","onError","LoadingSpinner","show","className","defaultProps","imageDefaultProps","style","alt","defaultState","loading","withError","Image","props","src","state","currentSrc","bind","this","setTimeout","setState","classNames","components","push","classnames","wrapperClassNames","picture","renderImage","nextProps","prevState","Component","onPress","onTouchStart","onTouchMove","onTouchEnd","Photo","rest","omit","type","onClick","photoRendered","renderPhoto","PureComponent","thumbnailStyle","width","height","active","Thumbnail","aria-label","data-photo-index","disabled","isOpened","TogglePhotoList","showLabel","hideLabel","label","calculateThumbnailsContainerDimension","total","current","Caption","thumbnailsWrapperRef","thumbnailsListRef","hasMoreThanOnePhoto","length","onThumbnailPress","setGalleryFigcaptionRef","setGalleryThubmanilsRef","toggleThumbnails","prevProps","setThumbnailsWrapperScrollLeft","event","index","parseInt","currentTarget","dataset","photoIndex","bounding","getBoundingClientRect","scrollLeft","thumbnailsOffset","THUMBNAIL_WIDTH","calculatedScrollLeft","thumbnailsPerRow","Math","round","abs","calculateThumbnailsLeftScroll","marginLeft","element","currentPhoto","getPhotoByIndex","captionThumbnailsWrapperWidth","aria-hidden","ref","map","renderThumbnail","controlStyle","fill","controlStyleLight","arrow","Control","onButtonPress","viewBox","role","focusable","d","fillRule","React","PrevButton","NextButton","galleryDefaultProps","Gallery","hidePrevButton","hideNextButton","controlsDisabled","touchStartInfo","touchEndInfo","touchMoved","lastPreloadIndex","preloadedPhotos","hasPhotos","move","prev","next","onPhotoLoad","onPhotoError","onPhotoPress","onPrevButtonPress","onNextButtonPress","targetTouches","screenX","to","activeIndex","isNextDirection","isPrevDirection","lastItemIndex","itemIndex","nextElementIndex","getItemByDirection","wrapCheck","controls","counter","preloadPhotos","emptyMessage","galleryModalPreloadPhotos","renderPreloadPhotos","renderControls","galleryStyles","getStyles","buttonStyle","display","buttonStyleLight","CloseButton","aria-busy","processPhoto","leftKeyPressed","onClose","rightKeyPressed","keyboard","opacity","zIndex","ReactBnbGallery","gallery","createRef","close","onKeyDown","test","target","tagName","which","preventDefault","galleryModalOverlayStyles","getModalOverlayStyles","modalStyle","tabIndex"],"mappings":"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","file":"static/js/main.d1964630.chunk.js","sourcesContent":["export const DIRECTION_PREV = 'prev';\nexport const DIRECTION_NEXT = 'next';\n\nexport const POINTER_TYPE_TOUCH = 'touch';\nexport const POINTER_TYPE_PEN = 'pen';\n\nexport const FORWARDS = 'forwards';\nexport const BACKWARDS = 'backwards';\n\nexport const ARROW_LEFT_KEYCODE = 37;\nexport const ARROW_RIGHT_KEYCODE = 39;\nexport const ESC_KEYCODE = 27;\nexport const ENTER_KEYCODE = 13;\nexport const SPACE_KEYCODE = 32;\n\nexport const TOUCHEVENT_COMPAT_WAIT = 500;\nexport const SWIPE_THRESHOLD = 40;\n\nexport const THUMBNAIL_WIDTH = 100;\nexport const THUMBNAIL_HEIGHT = 67;\nexport const THUMBNAIL_OFFSET = 10;\n\nexport const DEFAULT_OPACITY = 1;\nexport const DEFAULT_COLOR = 'rgba(0,0,0,1)';\nexport const NORMAL_COLOR = 'rgba(255,255,255,1)';\nexport const INVERSE_COLOR = 'rgba(1,1,1,1)';\nexport const DEFAULT_Z_INDEX = 2000;\n\nexport const defaultPhotoProps = {\n  photo: undefined,\n  number: undefined,\n  caption: undefined,\n  subcaption: undefined,\n  thumbnail: undefined,\n};\n","import PropTypes from 'prop-types';\n\nimport {\n  FORWARDS,\n  BACKWARDS,\n} from '../constants';\n\nexport default PropTypes.oneOf([FORWARDS, BACKWARDS]);\n","import PropTypes from 'prop-types';\n\nexport default PropTypes.shape({\n  photo: PropTypes.string.isRequired,\n  number: PropTypes.number,\n  caption: PropTypes.string,\n  subcaption: PropTypes.string,\n  thumbnail: PropTypes.string,\n});\n","import PropTypes from 'prop-types';\n\nimport PhotoShape from './PhotoShape';\n\nexport default PropTypes.oneOfType([\n  PropTypes.arrayOf(PropTypes.string.isRequired),\n  PropTypes.arrayOf(PhotoShape),\n]);\n","const noPhotosProvided = 'No photos to show';\nconst showPhotoList = 'Show photo list';\nconst hidePhotoList = 'Hide photo list';\n\nexport default {\n  noPhotosProvided,\n  showPhotoList,\n  hidePhotoList,\n};\n","import PropTypes from 'prop-types';\n\nimport {\n  forbidExtraProps,\n  nonNegativeInteger,\n} from './prop-types';\n\nimport SlideDirectionShape from '../shapes/SlideDirectionShape';\nimport PhotosShape from '../shapes/PhotosShape';\n\nimport defaultPhrases from '../defaultPhrases';\nimport getPhrasePropTypes from '../utils/getPhrasePropTypes';\n\nexport default forbidExtraProps({\n  activePhotoIndex: nonNegativeInteger,\n  activePhotoPressed: PropTypes.func,\n  direction: SlideDirectionShape,\n  nextButtonPressed: PropTypes.func,\n  prevButtonPressed: PropTypes.func,\n  showThumbnails: PropTypes.bool,\n  photos: PhotosShape,\n  preloadSize: nonNegativeInteger,\n  wrap: PropTypes.bool,\n  phrases: PropTypes.shape(getPhrasePropTypes(defaultPhrases)),\n  light: PropTypes.bool,\n  backgroundColor: PropTypes.string,\n});\n","import PropTypes from 'prop-types';\n\nexport default function defaultPhrases() {\n  return Object.keys(defaultPhrases)\n    .reduce((phrases, key) => ({\n      ...phrases,\n      [key]: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.func,\n        PropTypes.node,\n      ]),\n    }), {});\n}\n","export default () => {};\n","import noop from '../utils/noop';\nimport defaultPhrases from '../defaultPhrases';\n\nimport {\n  DEFAULT_COLOR,\n  FORWARDS,\n} from '../constants';\n\nexport default {\n  activePhotoIndex: 0,\n  activePhotoPressed: noop,\n  direction: FORWARDS,\n  nextButtonPressed: noop,\n  prevButtonPressed: noop,\n  showThumbnails: true,\n  photos: [],\n  preloadSize: 5,\n  wrap: false,\n  phrases: defaultPhrases,\n  light: false,\n  backgroundColor: DEFAULT_COLOR,\n};\n","import noop from '../utils/noop';\n\nexport default {\n  onLoad: noop,\n  onError: noop,\n};\n","import PropTypes from 'prop-types';\n\nimport { forbidExtraProps } from './prop-types';\n\nexport default forbidExtraProps({\n  onLoad: PropTypes.func,\n  onError: PropTypes.func,\n});\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { forbidExtraProps } from '../../common/prop-types';\n\nconst propTypes = forbidExtraProps({\n  show: PropTypes.bool,\n});\n\nconst defaultProps = {\n  show: true,\n};\n\nconst LoadingSpinner = ({ show }) => (show && (\n  <div className=\"loading-spinner\" />\n));\n\nLoadingSpinner.propTypes = propTypes;\nLoadingSpinner.defaultProps = defaultProps;\n\nexport default LoadingSpinner;\n","import LoadingSpinner from './LoadingSpinner';\n\nexport default LoadingSpinner;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport classnames from 'classnames';\n\nimport LoadingSpinner from '../LoadingSpinner';\n\nimport {\n  imagePropTypes,\n  imageDefaultProps,\n} from '../../common';\nimport { forbidExtraProps } from '../../common/prop-types';\n\nconst propTypes = forbidExtraProps({\n  ...imagePropTypes,\n  alt: PropTypes.string.isRequired,\n  src: PropTypes.string.isRequired,\n  style: PropTypes.object,\n  className: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.array,\n  ]),\n});\n\nconst defaultProps = {\n  ...imageDefaultProps,\n  style: null,\n  className: null,\n  alt: '',\n};\n\nconst defaultState = {\n  loading: true,\n  withError: false,\n};\n\nclass Image extends Component {\n  constructor(props) {\n    super(props);\n    const { src } = props;\n    this.state = {\n      currentSrc: src,\n      ...defaultState,\n    };\n    this.onLoad = this.onLoad.bind(this);\n    this.onError = this.onError.bind(this);\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    const { src } = nextProps;\n    const { currentSrc } = prevState;\n\n    if (src !== currentSrc) {\n      return {\n        currentSrc: src,\n        ...defaultState,\n      };\n    }\n\n    return null;\n  }\n\n  onLoad() {\n    const { onLoad } = this.props;\n    // wait a bit to show the final picture\n    setTimeout(() => {\n      onLoad();\n      this.setState({\n        loading: false,\n        withError: false,\n      });\n    }, 100);\n  }\n\n  onError() {\n    const { onError } = this.props;\n    onError();\n    this.setState({\n      loading: false,\n      withError: true,\n    });\n  }\n\n  renderImage() {\n    const {\n      alt,\n      src,\n      style,\n      className,\n    } = this.props;\n\n    const {\n      loading,\n      withError,\n    } = this.state;\n\n    const classNames = [\n      className,\n      'media-image',\n    ];\n\n    const components = [];\n\n    // the loading spinner\n    // TODO: make this 'LoadingSpinner' component customizable\n    if (loading) {\n      components.push(<LoadingSpinner key=\".pictureLoadingSpinner\" />);\n    }\n\n    // if no loading, then return the\n    // picture only if no error ocurred\n    if (!withError) {\n      components.push(<img\n        alt={alt}\n        key=\".pictureComponent\"\n        className={classnames(classNames)}\n        onLoad={this.onLoad}\n        onError={this.onError}\n        src={src}\n        style={style}\n      />);\n    }\n\n    // TODO: show a custom message indicating the\n    // error ocurred while loading the picture\n\n    return components;\n  }\n\n  render() {\n    const {\n      loading,\n    } = this.state;\n\n    const wrapperClassNames = [\n      'picture',\n      loading && 'loading',\n    ];\n\n    // render the picture element\n    const picture = this.renderImage();\n\n    return (\n      <div className={classnames(wrapperClassNames)}>\n        {picture}\n      </div>\n    );\n  }\n}\n\nImage.propTypes = propTypes;\nImage.defaultProps = defaultProps;\n\nexport default Image;\n","import Image from './Image';\n\nexport default Image;\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\n\nimport omit from 'lodash/omit';\nimport classnames from 'classnames';\n\nimport Image from '../Image';\nimport PhotoShape from '../../shapes/PhotoShape';\n\nimport {\n  imagePropTypes,\n  imageDefaultProps,\n} from '../../common';\nimport { forbidExtraProps } from '../../common/prop-types';\nimport noop from '../../utils/noop';\n\nconst propTypes = forbidExtraProps({\n  ...imagePropTypes,\n  photo: PhotoShape,\n  onPress: PropTypes.func,\n  onTouchStart: PropTypes.func,\n  onTouchMove: PropTypes.func,\n  onTouchEnd: PropTypes.func,\n});\n\nconst defaultProps = {\n  ...imageDefaultProps,\n  photo: null,\n  onPress: noop,\n  onTouchStart: noop,\n  onTouchMove: noop,\n  onTouchEnd: noop,\n};\n\nclass Photo extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.onPress = this.onPress.bind(this);\n  }\n\n  onPress() {\n    const { onPress } = this.props;\n    onPress();\n  }\n\n  renderPhoto() {\n    const {\n      photo,\n      onTouchStart,\n      onTouchMove,\n      onTouchEnd,\n      ...rest\n    } = this.props;\n\n    if (!photo) {\n      return null;\n    }\n\n    const {\n      onLoad,\n      onError,\n      style,\n    } = omit(rest, [\n      'onPress',\n    ]);\n\n    return (\n      <button\n        type=\"button\"\n        onClick={this.onPress}\n        className=\"photo-button\"\n        onTouchStart={onTouchStart}\n        onTouchMove={onTouchMove}\n        onTouchEnd={onTouchEnd}\n      >\n        <Image\n          alt={photo.caption || ''}\n          className=\"photo\"\n          src={photo.photo}\n          onLoad={onLoad}\n          onError={onError}\n          style={style}\n        />\n      </button>\n    );\n  }\n\n  render() {\n    const className = classnames(\n      'gallery-media-photo',\n      'gallery-media-photo--block',\n      'gallery-media-cover',\n    );\n\n    const photoRendered = this.renderPhoto();\n\n    return (\n      <ul className=\"gallery-images--ul\">\n        <li className={className}>\n          {photoRendered}\n        </li>\n      </ul>\n    );\n  }\n}\n\nPhoto.propTypes = propTypes;\nPhoto.defaultProps = defaultProps;\n\nexport default Photo;\n","import Photo from './Photo';\n\nexport default Photo;\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\n\nimport classnames from 'classnames';\n\nimport Image from '../Image';\nimport PhotoShape from '../../shapes/PhotoShape';\n\nimport {\n  forbidExtraProps,\n  nonNegativeInteger,\n} from '../../common/prop-types';\nimport noop from '../../utils/noop';\n\nimport {\n  THUMBNAIL_WIDTH,\n  THUMBNAIL_HEIGHT,\n} from '../../constants';\n\nconst thumbnailStyle = {\n  width: THUMBNAIL_WIDTH,\n  height: THUMBNAIL_HEIGHT,\n};\n\nconst propTypes = forbidExtraProps({\n  active: PropTypes.bool,\n  photo: PhotoShape,\n  onPress: PropTypes.func,\n  number: nonNegativeInteger,\n});\n\nconst defaultProps = {\n  active: false,\n  photo: null,\n  onPress: noop,\n  number: 0,\n};\n\nclass Thumbnail extends PureComponent {\n  render() {\n    const {\n      active,\n      photo,\n      onPress,\n      number,\n    } = this.props;\n\n    const className = classnames(\n      'thumbnail-button',\n      active && 'active',\n    );\n\n    return (\n      <button\n        type=\"button\"\n        aria-label={photo.caption}\n        className={className}\n        data-photo-index={number}\n        onClick={onPress}\n        disabled={false}\n      >\n        <Image\n          alt={photo.caption}\n          src={photo.thumbnail || photo.photo}\n          className=\"thumbnail\"\n          style={thumbnailStyle}\n        />\n      </button>\n    );\n  }\n}\n\nThumbnail.propTypes = propTypes;\nThumbnail.defaultProps = defaultProps;\n\nexport default Thumbnail;\n","import Thumbnail from './Thumbnail';\n\nexport default Thumbnail;\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\n\nimport classnames from 'classnames';\n\nimport defaultPhrases from '../../defaultPhrases';\nimport getPhrasePropTypes from '../../utils/getPhrasePropTypes';\n\nimport { forbidExtraProps } from '../../common/prop-types';\nimport noop from '../../utils/noop';\n\nconst propTypes = forbidExtraProps({\n  isOpened: PropTypes.bool,\n  onPress: PropTypes.func,\n  phrases: PropTypes.shape(getPhrasePropTypes(defaultPhrases)),\n});\n\nconst defaultProps = {\n  isOpened: true,\n  onPress: noop,\n  phrases: defaultPhrases,\n};\n\nclass TogglePhotoList extends PureComponent {\n  render() {\n    const {\n      isOpened,\n      onPress,\n      phrases: {\n        showPhotoList: showLabel,\n        hidePhotoList: hideLabel,\n      },\n    } = this.props;\n\n    const label = isOpened ? hideLabel : showLabel;\n\n    const className = classnames(\n      'gallery-thumbnails--toggle',\n      isOpened ? 'hide' : 'open',\n    );\n\n    return (\n      <button\n        type=\"button\"\n        className={className}\n        onClick={onPress}\n      >\n        {label}\n      </button>\n    );\n  }\n}\n\nTogglePhotoList.propTypes = propTypes;\nTogglePhotoList.defaultProps = defaultProps;\n\nexport default TogglePhotoList;\n","import TogglePhotoList from './TogglePhotoList';\n\nexport default TogglePhotoList;\n","import {\n  THUMBNAIL_WIDTH,\n  THUMBNAIL_OFFSET,\n} from '../constants';\n\nexport default function calculateThumbnailsContainerDimension(total) {\n  return (THUMBNAIL_WIDTH * total) + ((THUMBNAIL_OFFSET * total) - THUMBNAIL_OFFSET);\n}\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\n\nimport classnames from 'classnames';\nimport noop from '../../utils/noop';\n\nimport Thumbnail from '../Thumbnail';\nimport TogglePhotoList from '../TogglePhotoList';\n\nimport calculateThumbnailsContainerDimension from '../../utils/calculateThumbnailsContainerDimension';\nimport calculateThumbnailsLeftScroll from '../../utils/calculateThumbnailsLeftScroll';\n\nimport defaultPhrases from '../../defaultPhrases';\nimport getPhrasePropTypes from '../../utils/getPhrasePropTypes';\n\nimport {\n  forbidExtraProps,\n  nonNegativeInteger,\n} from '../../common/prop-types';\n\nimport PhotosShape from '../../shapes/PhotosShape';\n\nconst propTypes = forbidExtraProps({\n  showThumbnails: PropTypes.bool,\n  current: nonNegativeInteger,\n  photos: PhotosShape,\n  onPress: PropTypes.func,\n  phrases: PropTypes.shape(getPhrasePropTypes(defaultPhrases)),\n});\n\nconst defaultProps = {\n  showThumbnails: true,\n  current: 0,\n  photos: [],\n  onPress: noop,\n  phrases: defaultPhrases,\n};\n\nclass Caption extends PureComponent {\n  constructor(props) {\n    super(props);\n    const {\n      showThumbnails,\n      photos,\n    } = this.props;\n\n    this.state = {\n      showThumbnails,\n    };\n\n    this.thumbnailsWrapperRef = null;\n    this.thumbnailsListRef = null;\n    this.hasMoreThanOnePhoto = photos.length > 1;\n    this.onThumbnailPress = this.onThumbnailPress.bind(this);\n    this.setGalleryFigcaptionRef = this.setGalleryFigcaptionRef.bind(this);\n    this.setGalleryThubmanilsRef = this.setGalleryThubmanilsRef.bind(this);\n    this.toggleThumbnails = this.toggleThumbnails.bind(this);\n  }\n\n  componentDidUpdate(prevProps) {\n    const { current } = this.props;\n    if (current !== prevProps.current) {\n      this.setThumbnailsWrapperScrollLeft(current);\n    }\n  }\n\n  onThumbnailPress(event) {\n    const {\n      onPress,\n      photos,\n    } = this.props;\n    const index = parseInt(event.currentTarget.dataset.photoIndex, 10);\n    if (index >= 0 && index <= photos.length - 1) {\n      onPress(index);\n    }\n  }\n\n  setThumbnailsWrapperScrollLeft(current) {\n    const { photos } = this.props;\n    const bounding = this.thumbnailsWrapperRef.getBoundingClientRect();\n    const scrollLeft = calculateThumbnailsLeftScroll(current, photos.length, bounding);\n    this.thumbnailsListRef.style.marginLeft = `${scrollLeft}px`;\n  }\n\n  getPhotoByIndex(index) {\n    const { photos } = this.props;\n    return photos[index];\n  }\n\n  setGalleryFigcaptionRef(element) {\n    this.thumbnailsWrapperRef = element;\n  }\n\n  setGalleryThubmanilsRef(element) {\n    this.thumbnailsListRef = element;\n  }\n\n  toggleThumbnails() {\n    this.setState((prevState) => ({\n      showThumbnails: !prevState.showThumbnails,\n    }));\n  }\n\n  renderThumbnail(photo, index, onPress) {\n    const { current } = this.props;\n\n    return (\n      <Thumbnail\n        active={index === current}\n        photo={photo}\n        onPress={onPress}\n        number={index}\n      />\n    );\n  }\n\n  render() {\n    const {\n      current,\n      photos,\n      phrases,\n    } = this.props;\n\n    const {\n      showThumbnails,\n    } = this.state;\n\n    const className = classnames(\n      'gallery-figcaption',\n      !showThumbnails && 'hide',\n    );\n\n    const currentPhoto = this.getPhotoByIndex(current);\n    const captionThumbnailsWrapperWidth = calculateThumbnailsContainerDimension(photos.length);\n\n    return (\n      <figcaption className={className}>\n        <div className=\"gallery-figcaption--content\">\n          <div className=\"gallery-figcaption--inner\">\n            <div className=\"gallery-figcaption--info\">\n              <div className=\"caption-left\">\n                {currentPhoto.caption && (\n                  <h3 className=\"photo-caption\">\n                    {currentPhoto.caption}\n                  </h3>\n                )}\n                {currentPhoto.subcaption && (\n                  <p className=\"photo-subcaption\">\n                    {currentPhoto.subcaption}\n                  </p>\n                )}\n              </div>\n              {this.hasMoreThanOnePhoto && (\n                <div className=\"caption-right\">\n                  <TogglePhotoList\n                    phrases={phrases}\n                    isOpened={showThumbnails}\n                    onPress={this.toggleThumbnails}\n                  />\n                </div>\n              )}\n            </div>\n            {this.hasMoreThanOnePhoto && (\n              <div\n                className=\"gallery-figcaption--thumbnails\"\n                aria-hidden={false}\n                ref={this.setGalleryFigcaptionRef}\n              >\n                <div\n                  className=\"caption-thumbnails\"\n                  style={{ width: captionThumbnailsWrapperWidth }}\n                >\n                  <ul\n                    className=\"thumbnails-list\"\n                    ref={this.setGalleryThubmanilsRef}\n                  >\n                    {photos.map((photo, index) => (\n                      <li key={photo.photo}>\n                        {this.renderThumbnail(photo, index, this.onThumbnailPress)}\n                      </li>\n                    ))}\n                  </ul>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      </figcaption>\n    );\n  }\n}\n\nCaption.propTypes = propTypes;\nCaption.defaultProps = defaultProps;\n\nexport default Caption;\n","import calculateThumbnailsContainerDimension from './calculateThumbnailsContainerDimension';\n\nimport {\n  THUMBNAIL_WIDTH,\n  THUMBNAIL_OFFSET,\n} from '../constants';\n\nexport default function calculateThumbnailsLeftScroll(current, total, bounding) {\n  const half = (bounding.width / 2) - (THUMBNAIL_WIDTH / 2);\n  const thumbnailsOffset = ((current * THUMBNAIL_WIDTH) + (current * THUMBNAIL_OFFSET)) - half;\n  let calculatedScrollLeft = 0;\n\n  if (thumbnailsOffset < 0) {\n    return calculatedScrollLeft;\n  }\n\n  const thumbnailsPerRow = bounding.width / (THUMBNAIL_WIDTH + THUMBNAIL_OFFSET);\n  const thumbnailsHalf = Math.round(thumbnailsPerRow / 2);\n  const thumbnailsLeft = total - (current + 1);\n\n  if (thumbnailsLeft < thumbnailsHalf) {\n    calculatedScrollLeft = calculateThumbnailsContainerDimension(total) - bounding.width;\n  } else {\n    calculatedScrollLeft = thumbnailsOffset;\n  }\n\n  return -Math.abs(calculatedScrollLeft);\n}\n","import Caption from './Caption';\n\nexport default Caption;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport classnames from 'classnames';\n\nimport { forbidExtraProps } from '../../common/prop-types';\nimport noop from '../../utils/noop';\n\nimport {\n  NORMAL_COLOR,\n  INVERSE_COLOR,\n} from '../../constants';\n\nconst controlStyle = {\n  height: '2.8em',\n  width: '2.8em',\n  fill: NORMAL_COLOR,\n};\n\nconst controlStyleLight = {\n  fill: INVERSE_COLOR,\n};\n\nconst propTypes = forbidExtraProps({\n  arrow: PropTypes.string,\n  onPress: PropTypes.func,\n  label: PropTypes.string,\n  className: PropTypes.string,\n  disabled: PropTypes.bool,\n  light: PropTypes.bool,\n});\n\nconst defaultProps = {\n  arrow: null,\n  onPress: noop,\n  label: '',\n  className: null,\n  disabled: false,\n  light: false,\n};\n\nclass Control extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.onButtonPress = this.onButtonPress.bind(this);\n  }\n\n  onButtonPress() {\n    const { onPress } = this.props;\n    onPress();\n    return false;\n  }\n\n  render() {\n    const {\n      arrow,\n      label,\n      className,\n      disabled,\n      light,\n    } = this.props;\n\n    return (\n      <button\n        type=\"button\"\n        className={classnames('gallery-control', className)}\n        onClick={this.onButtonPress}\n        disabled={disabled}\n        aria-label={label}\n      >\n        <svg\n          viewBox=\"0 0 18 18\"\n          role=\"presentation\"\n          focusable=\"false\"\n          aria-hidden=\"true\"\n          style={{\n            ...controlStyle,\n            ...(light && controlStyleLight),\n          }}\n        >\n          <path\n            d={arrow}\n            fillRule=\"evenodd\"\n          />\n        </svg>\n      </button>\n    );\n  }\n}\n\nControl.propTypes = propTypes;\nControl.defaultProps = defaultProps;\n\nexport default Control;\n","import Control from './Control';\n\nexport default Control;\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\n\nimport Control from '../Control';\n\nimport { forbidExtraProps } from '../../common/prop-types';\nimport noop from '../../utils/noop';\n\nconst PREV_ARROW = 'm13.7 16.29a1 1 0 1 1 -1.42 1.41l-8-8a1 1 0 0 1 0-1.41l8-8a1 1 0 1 1 1.42 1.41l-7.29 7.29z';\n\nconst propTypes = forbidExtraProps({\n  onPress: PropTypes.func,\n  disabled: PropTypes.bool,\n  light: PropTypes.bool,\n});\n\nconst defaultProps = {\n  onPress: noop,\n  disabled: false,\n  light: false,\n};\n\nclass PrevButton extends PureComponent {\n  render() {\n    const {\n      onPress,\n      disabled,\n      light,\n    } = this.props;\n\n    return (\n      <Control\n        className=\"gallery-control--prev\"\n        onPress={onPress}\n        arrow={PREV_ARROW}\n        disabled={disabled}\n        light={light}\n      />\n    );\n  }\n}\n\nPrevButton.propTypes = propTypes;\nPrevButton.defaultProps = defaultProps;\n\nexport default PrevButton;\n","import PrevButton from './PrevButton';\n\nexport default PrevButton;\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\n\nimport Control from '../Control';\n\nimport { forbidExtraProps } from '../../common/prop-types';\nimport noop from '../../utils/noop';\n\nconst NEXT_ARROW = 'm4.29 1.71a1 1 0 1 1 1.42-1.41l8 8a1 1 0 0 1 0 1.41l-8 8a1 1 0 1 1 -1.42-1.41l7.29-7.29z';\n\nconst propTypes = forbidExtraProps({\n  onPress: PropTypes.func,\n  disabled: PropTypes.bool,\n  light: PropTypes.bool,\n});\n\nconst defaultProps = {\n  onPress: noop,\n  disabled: false,\n  light: false,\n};\n\nclass NextButton extends PureComponent {\n  render() {\n    const {\n      onPress,\n      disabled,\n      light,\n    } = this.props;\n\n    return (\n      <Control\n        className=\"gallery-control--next\"\n        onPress={onPress}\n        arrow={NEXT_ARROW}\n        disabled={disabled}\n        light={light}\n      />\n    );\n  }\n}\n\nNextButton.propTypes = propTypes;\nNextButton.defaultProps = defaultProps;\n\nexport default NextButton;\n","import NextButton from './NextButton';\n\nexport default NextButton;\n","import React, { PureComponent } from 'react';\n\nimport {\n  galleryPropTypes,\n  galleryDefaultProps,\n} from '../../common';\n\nimport Photo from '../Photo';\nimport Caption from '../Caption';\nimport PrevButton from '../PrevButton';\nimport NextButton from '../NextButton';\n\nimport {\n  DIRECTION_NEXT,\n  DIRECTION_PREV,\n} from '../../constants';\n\nconst propTypes = {\n  ...galleryPropTypes,\n};\n\nconst defaultProps = {\n  ...galleryDefaultProps,\n};\n\nclass Gallery extends PureComponent {\n  constructor(props) {\n    super(props);\n    const {\n      activePhotoIndex,\n      photos,\n      wrap,\n    } = this.props;\n    this.state = {\n      activePhotoIndex,\n      hidePrevButton: wrap && activePhotoIndex === 0,\n      hideNextButton: wrap && activePhotoIndex === photos.length - 1,\n      controlsDisabled: true,\n      touchStartInfo: null,\n      touchEndInfo: null,\n      touchMoved: false,\n    };\n    this.lastPreloadIndex = 0;\n    this.preloadedPhotos = [];\n    this.hasPhotos = photos.length > 0;\n    this.hasMoreThanOnePhoto = photos.length > 1;\n    this.move = this.move.bind(this);\n    this.prev = this.prev.bind(this);\n    this.next = this.next.bind(this);\n    this.onPhotoLoad = this.onPhotoLoad.bind(this);\n    this.onPhotoError = this.onPhotoError.bind(this);\n    this.onPhotoPress = this.onPhotoPress.bind(this);\n    this.onTouchStart = this.onTouchStart.bind(this);\n    this.onTouchMove = this.onTouchMove.bind(this);\n    this.onTouchEnd = this.onTouchEnd.bind(this);\n    this.onThumbnailPress = this.onThumbnailPress.bind(this);\n    this.onPrevButtonPress = this.onPrevButtonPress.bind(this);\n    this.onNextButtonPress = this.onNextButtonPress.bind(this);\n  }\n\n  onNextButtonPress() {\n    const { nextButtonPressed } = this.props;\n    this.next();\n    nextButtonPressed();\n  }\n\n  onPrevButtonPress() {\n    const { prevButtonPressed } = this.props;\n    this.prev();\n    prevButtonPressed();\n  }\n\n  onPhotoLoad() {\n    return this.setState({ controlsDisabled: false });\n  }\n\n  onPhotoError() {\n    return this.setState({ controlsDisabled: false });\n  }\n\n  onPhotoPress() {\n    const { activePhotoPressed } = this.props;\n    this.move(DIRECTION_NEXT);\n    activePhotoPressed();\n  }\n\n  onTouchStart(event) {\n    this.setState({\n      touchStartInfo: event.targetTouches[0],\n    });\n  }\n\n  onTouchMove(event) {\n    this.setState({\n      touchMoved: true,\n      touchEndInfo: event.targetTouches[0],\n    });\n  }\n\n  onTouchEnd() {\n    const { touchStartInfo, touchEndInfo, touchMoved } = this.state;\n\n    if (touchMoved) {\n      if (touchStartInfo.screenX < touchEndInfo.screenX) {\n        this.onPrevButtonPress();\n      } else if (touchStartInfo.screenX > touchEndInfo.screenX) {\n        this.onNextButtonPress();\n      }\n    }\n\n    this.setState({ touchMoved: false });\n  }\n\n  onThumbnailPress(index) {\n    this.to(index);\n  }\n\n  getPhotoByIndex(index) {\n    const { photos } = this.props;\n    return photos[index];\n  }\n\n  getItemByDirection(direction, activeIndex) {\n    const { photos, wrap } = this.props;\n\n    const isNextDirection = direction === DIRECTION_NEXT;\n    const isPrevDirection = direction === DIRECTION_PREV;\n\n    const lastItemIndex = photos.length - 1;\n    const isGoingToWrap = (isPrevDirection && activeIndex === 0)\n      || (isNextDirection && activeIndex === lastItemIndex);\n\n    if (isGoingToWrap && wrap) {\n      return activeIndex;\n    }\n\n    const delta = isPrevDirection ? -1 : 1;\n    const itemIndex = (activeIndex + delta) % photos.length;\n    return itemIndex === -1 ? photos.length - 1 : itemIndex;\n  }\n\n  getStyles() {\n    const { backgroundColor } = this.props;\n\n    return {\n      backgroundColor,\n    };\n  }\n\n  prev() {\n    return this.move(DIRECTION_PREV);\n  }\n\n  next() {\n    return this.move(DIRECTION_NEXT);\n  }\n\n  move(direction, index = false) {\n    const { activePhotoIndex } = this.state;\n\n    const nextElementIndex = index !== false\n      ? index\n      : this.getItemByDirection(direction, activePhotoIndex);\n\n    this.wrapCheck(direction, nextElementIndex);\n\n    this.setState({\n      activePhotoIndex: nextElementIndex,\n    });\n  }\n\n  to(index) {\n    const { photos } = this.props;\n    const { activePhotoIndex } = this.state;\n\n    if ((index > photos.length - 1 || index < 0) || activePhotoIndex === index) {\n      return; // nothing to do\n    }\n\n    const direction = index > activePhotoIndex ? DIRECTION_NEXT : DIRECTION_PREV;\n\n    this.move(direction, index);\n  }\n\n  wrapCheck(direction, nextElementIndex) {\n    const {\n      photos,\n      wrap,\n    } = this.props;\n\n    if (wrap) {\n      this.setState({\n        hideNextButton: nextElementIndex === photos.length - 1,\n        hidePrevButton: nextElementIndex === 0,\n      });\n    }\n  }\n\n  renderControls() {\n    const {\n      light,\n    } = this.props;\n\n    const {\n      hidePrevButton,\n      hideNextButton,\n      controlsDisabled,\n    } = this.state;\n\n    const controls = [];\n\n    if (this.hasMoreThanOnePhoto) {\n      // previous control\n      if (!hidePrevButton) {\n        controls.push((\n          <PrevButton\n            key=\".prevControl\"\n            disabled={controlsDisabled}\n            onPress={this.onPrevButtonPress}\n            light={light}\n          />\n        ));\n      }\n\n      // next control\n      if (!hideNextButton) {\n        controls.push((\n          <NextButton\n            key=\".nextControl\"\n            disabled={controlsDisabled}\n            onPress={this.onNextButtonPress}\n            light={light}\n          />\n        ));\n      }\n    }\n\n    return controls;\n  }\n\n  renderPreloadPhotos(current) {\n    const { photos, preloadSize } = this.props;\n    let counter = 1;\n    let index = current;\n    let photo = null;\n    const preloadPhotos = [];\n\n    while (index < photos.length && counter <= preloadSize) {\n      photo = photos[index];\n      preloadPhotos.push((\n        <img\n          key={photo.photo}\n          alt={photo.photo}\n          src={photo.photo}\n        />\n      ));\n      index += 1;\n      counter += 1;\n    }\n  }\n\n  render() {\n    const {\n      photos,\n      showThumbnails,\n      phrases,\n    } = this.props;\n\n    const {\n      noPhotosProvided: emptyMessage,\n    } = phrases;\n\n    const {\n      activePhotoIndex,\n    } = this.state;\n\n    // preload photos\n    const galleryModalPreloadPhotos = this.renderPreloadPhotos(activePhotoIndex);\n\n    const controls = this.renderControls();\n\n    const current = this.getPhotoByIndex(activePhotoIndex);\n\n    const galleryStyles = this.getStyles();\n\n    return (\n      <div className=\"gallery\" style={galleryStyles}>\n        <div className=\"gallery-modal--preload\">\n          {galleryModalPreloadPhotos}\n        </div>\n        <div className=\"gallery-main\">\n          {controls}\n          <div className=\"gallery-photos\">\n            {this.hasPhotos ? (\n              <div className=\"gallery-photo\">\n                <div className=\"gallery-photo--current\">\n                  <Photo\n                    photo={current}\n                    onLoad={this.onPhotoLoad}\n                    onError={this.onPhotoError}\n                    onPress={this.onPhotoPress}\n                    onTouchStart={this.onTouchStart}\n                    onTouchMove={this.onTouchMove}\n                    onTouchEnd={this.onTouchEnd}\n                  />\n                </div>\n              </div>\n            ) : (\n              <div className=\"gallery-empty\">\n                {emptyMessage}\n              </div>\n            )}\n          </div>\n        </div>\n        {showThumbnails && current && (\n          <Caption\n            phrases={phrases}\n            current={activePhotoIndex}\n            photos={photos}\n            onPress={this.onThumbnailPress}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nGallery.propTypes = propTypes;\nGallery.defaultProps = defaultProps;\n\nexport default Gallery;\n","import Gallery from './Gallery';\n\nexport default Gallery;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { forbidExtraProps } from '../../common/prop-types';\nimport noop from '../../utils/noop';\n\nimport {\n  NORMAL_COLOR,\n  INVERSE_COLOR,\n} from '../../constants';\n\nconst CLOSE_PATH = 'm23.25 24c-.19 0-.38-.07-.53-.22l-10.72-10.72-10.72 10.72c-.29.29-.77.29-1.06 0s-.29-.77 0-1.06l10.72-10.72-10.72-10.72c-.29-.29-.29-.77 0-1.06s.77-.29 1.06 0l10.72 10.72 10.72-10.72c.29-.29.77-.29 1.06 0s .29.77 0 1.06l-10.72 10.72 10.72 10.72c.29.29.29.77 0 1.06-.15.15-.34.22-.53.22';\n\nconst buttonStyle = {\n  height: '2em',\n  width: '2em',\n  display: 'block',\n  fill: NORMAL_COLOR,\n};\n\nconst buttonStyleLight = {\n  fill: INVERSE_COLOR,\n};\n\nconst propTypes = forbidExtraProps({\n  onPress: PropTypes.func,\n  light: PropTypes.bool,\n});\n\nconst defaultProps = {\n  onPress: noop,\n  light: false,\n};\n\nconst CloseButton = ({\n  onPress,\n  light,\n}) => (\n  <button\n    onClick={onPress}\n    className=\"gallery-close\"\n    type=\"button\"\n    aria-busy={false}\n  >\n    <svg\n      viewBox=\"0 0 24 24\"\n      role=\"img\"\n      focusable=\"false\"\n      style={{\n        ...buttonStyle,\n        ...(light && buttonStyleLight),\n      }}\n    >\n      <path d={CLOSE_PATH} fillRule=\"evenodd\" />\n    </svg>\n  </button>\n);\n\nCloseButton.propTypes = propTypes;\nCloseButton.defaultProps = defaultProps;\n\nexport default CloseButton;\n","import CloseButton from './CloseButton';\n\nexport default CloseButton;\n","import { defaultPhotoProps } from '../constants';\n\nexport function processPhoto(photo, index) {\n  const props = typeof photo === 'string'\n    ? { number: (index + 1), photo }\n    : { ...photo, number: (index + 1) };\n\n  return {\n    ...defaultPhotoProps,\n    ...props,\n  };\n}\n\nexport default function getPhotos(photos) {\n  return photos.map(processPhoto);\n}\n","/* eslint-disable jsx-a11y/no-noninteractive-element-interactions */\n/* eslint-disable react/no-unused-prop-types */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport FocusTrap from 'focus-trap-react';\nimport { Portal } from 'react-portal';\n\nimport omit from 'lodash/omit';\nimport classnames from 'classnames';\n\nimport Gallery from './components/Gallery';\nimport CloseButton from './components/CloseButton';\n\nimport opacityValidation from './common/opacityValidation';\nimport noop from './utils/noop';\nimport getPhotos from './utils/getPhotos';\n\nimport {\n  ARROW_LEFT_KEYCODE,\n  ARROW_RIGHT_KEYCODE,\n  ESC_KEYCODE,\n  DEFAULT_OPACITY,\n  DEFAULT_Z_INDEX,\n} from './constants';\n\nimport {\n  galleryPropTypes,\n  galleryDefaultProps,\n} from './common';\n\nimport {\n  forbidExtraProps,\n  nonNegativeInteger,\n} from './common/prop-types';\n\nimport './scss/style.scss';\n\nconst propTypes = forbidExtraProps({\n  ...galleryPropTypes,\n  leftKeyPressed: PropTypes.func,\n  onClose: PropTypes.func,\n  rightKeyPressed: PropTypes.func,\n  show: PropTypes.bool,\n  keyboard: PropTypes.bool,\n  opacity: opacityValidation,\n  zIndex: nonNegativeInteger,\n});\n\nconst defaultProps = {\n  ...galleryDefaultProps,\n  leftKeyPressed: noop,\n  onClose: noop,\n  rightKeyPressed: noop,\n  show: false,\n  keyboard: true,\n  opacity: DEFAULT_OPACITY,\n  zIndex: DEFAULT_Z_INDEX,\n};\n\nclass ReactBnbGallery extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      photos: null,\n    };\n    this.gallery = React.createRef();\n    this.close = this.close.bind(this);\n    this.onKeyDown = this.onKeyDown.bind(this);\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    if (props.photos !== state.photos) {\n      return {\n        photos: getPhotos(props.photos),\n      };\n    }\n    return null;\n  }\n\n  onKeyDown(event) {\n    if (/input|textarea/i.test(event.target.tagName)) {\n      return;\n    }\n\n    switch (event.which) {\n      case ESC_KEYCODE:\n        event.preventDefault();\n        this.close();\n        break;\n\n      case ARROW_LEFT_KEYCODE:\n        event.preventDefault();\n        this.gallery.current.prev();\n        break;\n\n      case ARROW_RIGHT_KEYCODE:\n        event.preventDefault();\n        this.gallery.current.next();\n        break;\n\n      default:\n    }\n  }\n\n  getModalOverlayStyles() {\n    const {\n      opacity,\n      backgroundColor,\n    } = this.props;\n\n    return {\n      opacity,\n      backgroundColor,\n    };\n  }\n\n  close() {\n    const { onClose } = this.props;\n    onClose();\n  }\n\n  render() {\n    const {\n      show,\n      phrases,\n      keyboard,\n      light,\n      zIndex,\n    } = this.props;\n\n    const { photos } = this.state;\n\n    if (!show) {\n      return null; // nothing to return\n    }\n\n    const {\n      wrap,\n      activePhotoIndex,\n      activePhotoPressed,\n      direction,\n      nextButtonPressed,\n      prevButtonPressed,\n      showThumbnails,\n      preloadSize,\n    } = omit(this.props, [\n      'onClose',\n      'leftKeyPressed',\n      'rightKeyPressed',\n      'show',\n      'photos',\n      'opacity',\n      'backgroundColor',\n      'zIndex',\n      'keyboard',\n    ]);\n\n    // modal overlay customization styles\n    const galleryModalOverlayStyles = this.getModalOverlayStyles();\n\n    const modalStyle = {\n      zIndex,\n    };\n\n    return (\n      <Portal>\n        <FocusTrap>\n          <div\n            className={classnames([\n              'gallery-modal',\n              light && 'mode-light',\n            ])}\n            onKeyDown={keyboard && this.onKeyDown}\n            tabIndex=\"-1\"\n            role=\"dialog\"\n            style={modalStyle}\n          >\n            <div\n              style={galleryModalOverlayStyles}\n              className=\"gallery-modal--overlay\"\n            />\n            <div className=\"gallery-modal--container\">\n              <div className=\"gallery-modal--table\">\n                <div className=\"gallery-modal--cell\">\n                  <div className=\"gallery-modal--content\">\n                    <div className=\"gallery-modal--close\">\n                      <CloseButton\n                        onPress={this.close}\n                        light={light}\n                      />\n                    </div>\n                    <div className=\"gallery-content\">\n                      <div className=\"gallery-top\">\n                        <div className=\"gallery-top--inner\" />\n                      </div>\n                      <Gallery\n                        phrases={phrases}\n                        ref={this.gallery}\n                        photos={photos}\n                        wrap={wrap}\n                        activePhotoIndex={activePhotoIndex}\n                        activePhotoPressed={activePhotoPressed}\n                        direction={direction}\n                        nextButtonPressed={nextButtonPressed}\n                        prevButtonPressed={prevButtonPressed}\n                        showThumbnails={showThumbnails}\n                        preloadSize={preloadSize}\n                        backgroundColor={null}\n                        light={light}\n                      />\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </FocusTrap>\n      </Portal>\n    );\n  }\n}\n\nReactBnbGallery.propTypes = propTypes;\nReactBnbGallery.defaultProps = defaultProps;\n\nexport default ReactBnbGallery;\n","import ReactBnbGallery from './ReactBnbGallery';\nimport Gallery from './components/Gallery';\n\nexport default ReactBnbGallery;\n\nexport {\n  ReactBnbGallery,\n  Gallery,\n};\n"],"sourceRoot":""}